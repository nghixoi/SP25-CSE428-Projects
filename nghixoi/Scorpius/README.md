# Medical Knowledge Graph Discovery Pipeline

## CSE 428 Computational Biology - Capstone Project

### Overview
This project implements the Standard KG-Based Medical Knowledge Discovery Pipeline based on Figure 1a of the Scorpius paper (Wang et al., 2024). The implementation demonstrates how medical literature is processed to construct knowledge graphs, which are then used to make predictions about drug-disease relationships.

### Paper Reference
Wang, S., Yang, J., Xu, H., Mirzoyan, S., Chen, T., Liu, Z., Liu, Z., Ju, W., Liu, L., Xiao, Z., & Zhang, M. (2024). Poisoning medical knowledge using large language models. Nature Machine Intelligence, 6(10), 1156-1168. https://doi.org/10.1038/s42256-024-00899-3

### Project Structure
- `Nghi Xoi_Figure 1a Reproducing and Improvement.ipynb`: Main Jupyter notebook containing the implementation
- `Standard KG-Based Medical Knowledge Discovery Pipeline.pdf`: Detailed report explaining the project, methodology, and findings
- `images/`: Visualizations generated by the notebook (t-SNE plot and drug ranking chart)

### Pipeline Components
1. **Data Loading and Preprocessing**: Loading medical literature triplets
2. **Knowledge Graph Construction**: Implementing relation extraction from text
3. **Knowledge Graph Reasoning**: Using DistMult embeddings to represent entities and relations
4. **Drug Ranking Predictions**: Calculating relevance scores for drugs based on diseases
5. **Visualization**: t-SNE visualization of embeddings and drug ranking charts

### Key Findings
- Successfully implemented the knowledge graph pipeline from Figure 1a
- Demonstrated how entities are organized in the embedding space
- Showed accurate drug rankings for diabetes treatment (Metformin as top drug)
- Illustrated how the system could be vulnerable to poisoning attacks

### Dependencies
- Python 3.8+
- PyTorch
- NumPy
- Pandas
- Matplotlib
- Scikit-learn (for t-SNE)

### How to Run
1. Clone this repository
2. Install the required dependencies: `pip install -r requirements.txt`
3. Open and run the Jupyter notebook: `jupyter notebook "Nghi Xoi_Figure 1a Reproducing and Improvement.ipynb"`

### Improvements
This implementation not only reproduces the pipeline from the Scorpius paper but also enhances it with:
- Improved visualization of entity embeddings using t-SNE
- Enhanced drug ranking visualization with color gradients
- Detailed pipeline explanation connecting each component to Figure 1a of the paper

### Acknowledgments
This implementation is based on the methodology described in Wang et al. (2024), with a focus on reproducing the standard KG-based medical knowledge discovery pipeline from Figure 1a of their paper.
